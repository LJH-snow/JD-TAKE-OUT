# 个人中心与订单中心开发文档

**版本**: 1.2 (MVP 优先版)
**最后更新**: 2025年9月13日
**目标**: 基于用户提供的设计建议，为 `frontend-user` 项目的“个人中心”及“订单中心”相关页面制定详细的开发计划和技术规范，并明确MVP阶段的开发优先级。

---

## 1. MVP开发优先级说明 (核心)

考虑到项目时间紧迫，我们采用MVP（最小可行产品）策略，优先保障核心流程的完整性。

#### **第一阶段：核心功能 (立即开发)**

- **目标**: 保证用户可以顺畅地查看订单详情，并完成订单的关键状态变更。
- **功能范围**:
    1.  **查看订单详情**: 用户能从订单列表进入，查看订单的完整信息。
    2.  **确认收货**: 用户可以手动确认已送达的订单。
    3.  **取消订单**: 用户可以取消待付款的订单。
- **涉及页面**: `OrderListPage.jsx`, `OrderDetailPage.jsx`

#### **第二阶段：后续优化 (可推迟)**

- **目标**: 完善用户体验和增加便捷性功能。
- **功能范围**:
    1.  **账户权益体系**: 钱包、红包、会员等。
    2.  **便捷订单操作**: 提醒发货、再次购买。
    3.  **UI/UX优化**: 订单状态角标数量提醒。
    4.  **个人资料编辑**: 允许用户修改个人信息。
    5.  **物流追踪**: 对接真实物流数据。

---

## 2. 概述与设计总览

本文档旨在将用户体验设计（UX）方案转化为具体的前端开发任务。个人中心页面是用户管理个人信息、查看订单和使用各项服务的核心入口。

---

## 3. 个人中心页面设计 (`UserProfilePage.jsx`)

(此部分内容无重大变更，细节略...)

---

# 个人中心与订单中心开发文档

**版本**: 1.2 (MVP 优先版)
**最后更新**: 2025年9月13日
**目标**: 基于用户提供的设计建议，为 `frontend-user` 项目的“个人中心”及“订单中心”相关页面制定详细的开发计划和技术规范，并明确MVP阶段的开发优先级。

---

## 1. MVP开发优先级说明 (核心)

考虑到项目时间紧迫，我们采用MVP（最小可行产品）策略，优先保障核心流程的完整性。

#### **第一阶段：核心功能 (立即开发)**

- **目标**: 保证用户可以顺畅地查看订单详情，并完成订单的关键状态变更。
- **功能范围**:
    1.  **查看订单详情**: 用户能从订单列表进入，查看订单的完整信息。
    2.  **确认收货**: 用户可以手动确认已送达的订单。
    3.  **取消订单**: 用户可以取消待付款的订单。
- **涉及页面**: `OrderListPage.jsx`, `OrderDetailPage.jsx`

#### **第二阶段：后续优化 (可推迟)**

- **目标**: 完善用户体验和增加便捷性功能。
- **功能范围**:
    1.  **账户权益体系**: 钱包、红包、会员等。
    2.  **便捷订单操作**: 提醒发货、再次购买。
    3.  **UI/UX优化**: 订单状态角标数量提醒。
    4.  **个人资料编辑**: 允许用户修改个人信息。
    5.  **物流追踪**: 对接真实物流数据。

---

## 2. 概述与设计总览

本文档旨在将用户体验设计（UX）方案转化为具体的前端开发任务。个人中心页面是用户管理个人信息、查看订单和使用各项服务的核心入口。

---

## 3. 个人中心页面设计 (`UserProfilePage.jsx`)

(此部分内容无重大变更，细节略...)

---

## 4. 订单中心页面设计详解

本章节详细阐述用户进入“我的订单”后的相关页面设计，主要包括订单列表页和订单详情页。

### 4.1. 订单列表页 (`OrderListPage.jsx`)

**a. 页面布局**
- **导航栏**: 左侧返回按钮, 中部动态标题。
- **标签页 (Tabs)**: “全部”、“待付款”等筛选入口。
- **主体**: 订单卡片列表，支持下拉刷新和滚动加载。

**b. 订单卡片 (`OrderCard.jsx`) 组件结构**
- **卡片头部**: 店铺名称(“本店”)，订单状态文字。
- **商品信息区**: 商品缩略图、名称、规格、价格和数量。
- **金额汇总区**: “共N件商品，合计 ¥XX.XX”。
- **操作按钮区**: 根据订单状态显示不同按钮。
    - **第一阶段实现**: “去支付”(若有)、“取消订单”、“确认收货”。
    - **第二阶段实现**: “查看物流”、“去评价”、“再次购买”、“申请售后”。

### 4.2. 订单详情页 (`OrderDetailPage.jsx`)

**a. 页面布局**
- **顶部状态区**: 订单状态和预计送达时间。
- **收货信息区**: 收货人、电话、地址。
- **商品清单区**: 完整商品列表。
- **费用明细区**: 商品总价、运费、实付金额。
- **物流进度区**: **(第二阶段)** 暂时隐藏或显示“暂无物流信息”。
- **订单信息区**: 订单编号、下单时间等。
- **底部操作区**: 根据状态提供“取消订单”、“确认收货”等大按钮。

---

## 5. API 需求与开发优先级

为实现MVP阶段目标，API的开发也应分清主次。

| 优先级 | 功能模块 | API 路径 | 请求方法 | 用途 | 实现状态 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **P0 (核心)** | **订单详情** | `/api/orders/{id}` | `GET` | 获取单个订单的完整信息 | ❌ **需新增** |
| **P0 (核心)** | **确认收货** | `/api/orders/{id}/confirm` | `POST` | 用户确认收到商品 | ❌ **需新增** |
| **P0 (核心)** | **取消订单** | `/api/orders/{id}/cancel` | `POST` | 用户取消待支付订单 | ❌ **需新增** |
| P1 (优化) | 订单状态计数 | `/api/user/orders/status-counts` | `GET` | 获取各订单状态的数量，用于角标 | ❌ **需新增** |
| P1 (优化) | 编辑用户信息 | `/api/user/profile` | `PUT` | 更新用户姓名、头像等信息 | ❌ **需新增** |
| P1 (优化) | 再次购买 | `/api/cart/add-from-order` | `POST` | 将订单内商品重新加入购物车 | ❌ **需新增** |
| P2 (扩展) | 账户权益 | `/api/user/benefits` | `GET` | 获取钱包余额、优惠券数量、会员状态 | ❌ **需新增** |
| P2 (扩展) | 提醒发货 | `/api/orders/{id}/remind` | `POST` | 提醒商家发货 | ❌ **需新增** |
| - | 用户信息 | `/api/me` | `GET` | 获取当前登录用户的基本信息 | ✅ **已存在** |
| - | 订单列表 | `/api/user/orders` | `GET` | 获取用户订单列表 | ✅ **已存在** |

---

## 6. MVP 开发步骤建议 (新)

1.  **后端核心API开发 (第一阶段)**:
    - 集中资源，优先开发和测试上表中标记为 **P0 (核心)** 的三个API：`获取订单详情`、`确认收货`、`取消订单`。

2.  **前端核心流程开发 (第一阶段)**:
    - **完善订单列表页**: 在 `OrderListPage.jsx` 的订单卡片上，根据订单状态，显示“确认收货”和“取消订单”按钮，并绑定API调用。
    - **开发订单详情页**: 根据设计，完整开发 `OrderDetailPage.jsx` 页面，调用 `GET /api/orders/{id}` 接口来填充所有数据。

3.  **后续阶段 (第二阶段)**:
    - 待核心流程稳定后，再根据业务需求，逐步开发P1和P2优先级的其他API和前端功能。

---

*（原文档其他细节内容已整合或省略）*

---

## 5. API 需求与开发优先级

为实现MVP阶段目标，API的开发也应分清主次。

| 优先级 | 功能模块 | API 路径 | 请求方法 | 用途 | 实现状态 |
| :--- | :--- | :--- | :--- | :--- | :--- |
| **P0 (核心)** | **订单详情** | `/api/orders/{id}` | `GET` | 获取单个订单的完整信息 | ❌ **需新增** |
| **P0 (核心)** | **确认收货** | `/api/orders/{id}/confirm` | `POST` | 用户确认收到商品 | ❌ **需新增** |
| **P0 (核心)** | **取消订单** | `/api/orders/{id}/cancel` | `POST` | 用户取消待支付订单 | ❌ **需新增** |
| P1 (优化) | 订单状态计数 | `/api/user/orders/status-counts` | `GET` | 获取各订单状态的数量，用于角标 | ❌ **需新增** |
| P1 (优化) | 编辑用户信息 | `/api/user/profile` | `PUT` | 更新用户姓名、头像等信息 | ❌ **需新增** |
| P1 (优化) | 再次购买 | `/api/cart/add-from-order` | `POST` | 将订单内商品重新加入购物车 | ❌ **需新增** |
| P2 (扩展) | 账户权益 | `/api/user/benefits` | `GET` | 获取钱包余额、优惠券数量、会员状态 | ❌ **需新增** |
| P2 (扩展) | 提醒发货 | `/api/orders/{id}/remind` | `POST` | 提醒商家发货 | ❌ **需新增** |
| - | 用户信息 | `/api/me` | `GET` | 获取当前登录用户的基本信息 | ✅ **已存在** |
| - | 订单列表 | `/api/user/orders` | `GET` | 获取用户订单列表 | ✅ **已存在** |

---

## 6. MVP 开发步骤建议 (新)

1.  **后端核心API开发 (第一阶段)**:
    - 集中资源，优先开发和测试上表中标记为 **P0 (核心)** 的三个API：`获取订单详情`、`确认收货`、`取消订单`。

2.  **前端核心流程开发 (第一阶段)**:
    - **完善订单列表页**: 在 `OrderListPage.jsx` 的订单卡片上，根据订单状态，显示“确认收货”和“取消订单”按钮，并绑定API调用。
    - **开发订单详情页**: 根据设计，完整开发 `OrderDetailPage.jsx` 页面，调用 `GET /api/orders/{id}` 接口来填充所有数据。

3.  **后续阶段 (第二阶段)**:
    - 待核心流程稳定后，再根据业务需求，逐步开发P1和P2优先级的其他API和前端功能。

---

*（原文档其他细节内容已整合或省略）*
